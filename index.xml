<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Swift Notes</title><link>https://sametkoyuncu.github.io/swift-notes/</link><description>Recent content on Swift Notes</description><generator>Hugo -- 0.146.0</generator><language>en-us</language><atom:link href="https://sametkoyuncu.github.io/swift-notes/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://sametkoyuncu.github.io/swift-notes/cheat-sheets/items/dispatch/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/cheat-sheets/items/dispatch/</guid><description>&lt;h1 id="dispatch-swift">Dispatch (Swift)&lt;/h1>
&lt;h2 id="1-what-is-it">1. What is it?&lt;/h2>
&lt;p>Dispatch is the mechanism that decides &lt;strong>which implementation&lt;/strong> a call will execute (and &lt;strong>when&lt;/strong> that decision is made: compile-time vs runtime). In Swift, dispatch choices directly affect polymorphism, correctness (especially with protocol extensions), and performance.&lt;/p>
&lt;h2 id="2-what-problem-does-it-solve">2. What problem does it solve?&lt;/h2>
&lt;ul>
&lt;li>Enables polymorphism (same call, different behavior) via inheritance or protocols.&lt;/li>
&lt;li>Balances flexibility vs performance (dynamic lookup vs direct calls).&lt;/li>
&lt;li>Defines how overrides, protocol conformances, and runtime features (KVO/swizzling) work.&lt;/li>
&lt;/ul>
&lt;h2 id="3-types--categories">3. Types / Categories&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Kind&lt;/th>
&lt;th>Trigger / Where it appears&lt;/th>
&lt;th>Mechanism&lt;/th>
&lt;th>Typical cost&lt;/th>
&lt;th>Notes&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Static dispatch (direct call)&lt;/td>
&lt;td>&lt;code>struct&lt;/code>/&lt;code>enum&lt;/code>, &lt;code>final&lt;/code> methods/classes, &lt;code>static&lt;/code> functions, many generics&lt;/td>
&lt;td>Compiler emits a direct call&lt;/td>
&lt;td>Lowest&lt;/td>
&lt;td>Most optimizable (inline, specialize)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Virtual dispatch (vtable)&lt;/td>
&lt;td>&lt;code>class&lt;/code> inheritance + overridable methods&lt;/td>
&lt;td>vtable lookup&lt;/td>
&lt;td>Lowâ€“medium&lt;/td>
&lt;td>Enables &lt;code>override&lt;/code> polymorphism&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Protocol dispatch (witness table)&lt;/td>
&lt;td>Calling protocol &lt;strong>requirements&lt;/strong> through a protocol type&lt;/td>
&lt;td>witness table lookup&lt;/td>
&lt;td>Lowâ€“medium&lt;/td>
&lt;td>Key for &lt;code>any Protocol&lt;/code> calls&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Obj-C message dispatch&lt;/td>
&lt;td>&lt;code>@objc dynamic&lt;/code>, KVC/KVO, swizzling, selectors&lt;/td>
&lt;td>&lt;code>objc_msgSend&lt;/code>&lt;/td>
&lt;td>Mediumâ€“high&lt;/td>
&lt;td>Most dynamic, least optimizable&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="4-how-does-it-work-in-swift">4. How does it work in Swift?&lt;/h2>
&lt;h3 id="quick-decision-tree">Quick decision tree&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>Value types (&lt;code>struct&lt;/code>/&lt;code>enum&lt;/code>)&lt;/strong> â†’ usually &lt;strong>static dispatch&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;code>final class&lt;/code> or &lt;code>final func&lt;/code>&lt;/strong> â†’ &lt;strong>static dispatch&lt;/strong> (cannot be overridden)&lt;/li>
&lt;li>&lt;strong>Non-final &lt;code>class&lt;/code> methods&lt;/strong> (especially overridden) â†’ &lt;strong>vtable&lt;/strong> dispatch&lt;/li>
&lt;li>&lt;strong>Protocol requirement calls via &lt;code>any Protocol&lt;/code>&lt;/strong> â†’ &lt;strong>witness table&lt;/strong> dispatch&lt;/li>
&lt;li>&lt;strong>Protocol extension methods&lt;/strong> â†’ &lt;strong>static dispatch&lt;/strong> (common footgun)&lt;/li>
&lt;li>&lt;strong>Generic &lt;code>T: Protocol&lt;/code>&lt;/strong> â†’ often &lt;strong>specialized&lt;/strong> by the compiler â†’ can become close to &lt;strong>static dispatch&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;code>@objc dynamic&lt;/code>&lt;/strong> â†’ &lt;strong>Objective-C runtime&lt;/strong> dispatch (&lt;code>objc_msgSend&lt;/code>)&lt;/li>
&lt;/ul>
&lt;h3 id="why-protocol-extensions-can-surprise-you">Why protocol extensions can surprise you&lt;/h3>
&lt;ul>
&lt;li>A method implemented in a &lt;strong>protocol extension&lt;/strong> is not always dispatched through the witness table.&lt;/li>
&lt;li>If you call it via an &lt;strong>existential&lt;/strong> (&lt;code>let x: any P = ...&lt;/code>), Swift may bind to the extension implementation (static) instead of the conforming typeâ€™s method (dynamic through witness table).&lt;/li>
&lt;/ul>
&lt;p>Rule of thumb:&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/cheat-sheets/items/readme/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/cheat-sheets/items/readme/</guid><description>&lt;h2 id="cheat-sheets">Cheat Sheets&lt;/h2>
&lt;p>All cheat sheets follow a strict, shared structure.
Each document is designed for quick recall rather than full tutorials.&lt;/p>
&lt;p>If you are adding a new cheat sheet:&lt;/p>
&lt;ul>
&lt;li>Use the template in &lt;code>cheat-sheets/_template.md&lt;/code>&lt;/li>
&lt;li>Keep it under 1â€“2 screens&lt;/li>
&lt;li>Focus on &amp;ldquo;why&amp;rdquo; and &amp;ldquo;when&amp;rdquo;, not syntax&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/cheat-sheets/items/some-vs-any/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/cheat-sheets/items/some-vs-any/</guid><description>&lt;h1 id="some-vs-any-opaque-vs-existential">some vs any (Opaque vs Existential)&lt;/h1>
&lt;h2 id="1-what-is-it">1. What is it?&lt;/h2>
&lt;p>&lt;code>some&lt;/code> defines an &lt;strong>opaque type&lt;/strong>: the concrete type is fixed but hidden from the caller.&lt;br>
&lt;code>any&lt;/code> defines an &lt;strong>existential type&lt;/strong>: the concrete type is erased and can vary at runtime.&lt;/p>
&lt;h2 id="2-what-problem-does-it-solve">2. What problem does it solve?&lt;/h2>
&lt;p>They let APIs abstract over types:&lt;/p>
&lt;ul>
&lt;li>&lt;code>some&lt;/code>: abstraction &lt;strong>without losing static type information&lt;/strong>&lt;/li>
&lt;li>&lt;code>any&lt;/code>: abstraction &lt;strong>when heterogeneity or runtime flexibility is required&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="3-types--categories">3. Types / Categories&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>Opaque types (&lt;code>some P&lt;/code>)&lt;/strong>
&lt;ul>
&lt;li>Compile-time concrete type&lt;/li>
&lt;li>Single underlying type per declaration&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Existential types (&lt;code>any P&lt;/code>)&lt;/strong>
&lt;ul>
&lt;li>Runtime type-erased container&lt;/li>
&lt;li>Can hold multiple concrete types over time&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="4-how-does-it-work-in-swift">4. How does it work in Swift?&lt;/h2>
&lt;ul>
&lt;li>&lt;code>some P&lt;/code>
&lt;ul>
&lt;li>Compiler generates a hidden concrete generic&lt;/li>
&lt;li>Uses &lt;strong>static dispatch&lt;/strong>, specialization, and inlining&lt;/li>
&lt;li>Backed by vtables/witness tables known at compile time&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>any P&lt;/code>
&lt;ul>
&lt;li>Stored as an &lt;strong>existential container&lt;/strong>&lt;/li>
&lt;li>Uses &lt;strong>dynamic dispatch&lt;/strong> via witness tables&lt;/li>
&lt;li>May allocate (inline buffer vs heap) depending on size&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="5-dangerous-corners--footguns">5. Dangerous corners / Footguns&lt;/h2>
&lt;ul>
&lt;li>&lt;code>some&lt;/code> cannot return different concrete types across branches&lt;/li>
&lt;li>&lt;code>any&lt;/code> loses associated type and &lt;code>Self&lt;/code> information&lt;/li>
&lt;li>Existentials inhibit specialization and inlining&lt;/li>
&lt;li>Existential boxing can cause unexpected heap allocations&lt;/li>
&lt;li>Mixing &lt;code>any P&lt;/code> with generics often causes silent performance cliffs&lt;/li>
&lt;/ul>
&lt;h2 id="6-when-should-i-use-which">6. When should I use which?&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>some&lt;/code> when:
&lt;ul>
&lt;li>You control the implementation&lt;/li>
&lt;li>You want abstraction &lt;strong>and&lt;/strong> performance&lt;/li>
&lt;li>The concrete type is stable per API&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Use &lt;code>any&lt;/code> when:
&lt;ul>
&lt;li>You need heterogenous collections&lt;/li>
&lt;li>The concrete type varies at runtime&lt;/li>
&lt;li>API boundaries require type erasure&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Prefer generics over &lt;code>any&lt;/code> when the caller can benefit from specialization&lt;/li>
&lt;/ul>
&lt;h2 id="7-30-second-summary">7. 30-second summary&lt;/h2>
&lt;ul>
&lt;li>&lt;code>some&lt;/code> = hidden concrete type, fast, statically dispatched&lt;/li>
&lt;li>&lt;code>any&lt;/code> = type-erased container, flexible, dynamically dispatched&lt;/li>
&lt;li>&lt;code>some&lt;/code> preserves optimization; &lt;code>any&lt;/code> trades performance for flexibility&lt;/li>
&lt;li>Default to &lt;code>some&lt;/code> (or generics); reach for &lt;code>any&lt;/code> only when necessary&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/associated-types/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/associated-types/</guid><description>&lt;h1 id="associated-types-in-swift">Associated Types in Swift&lt;/h1>
&lt;p>Associated types let protocols declare a placeholder type that conforming types must specify. They enable protocol-based code to stay generic without forcing every consumer to name a concrete type up front.&lt;/p>
&lt;h2 id="why-use-associated-types">Why Use Associated Types?&lt;/h2>
&lt;ul>
&lt;li>Express relationships between inputs/outputs without locking into a concrete type.&lt;/li>
&lt;li>Keep protocol APIs lightweight while letting conformers choose their own models.&lt;/li>
&lt;li>Compose with generics and opaque types to avoid long type signatures.&lt;/li>
&lt;/ul>
&lt;h2 id="basic-syntax">Basic Syntax&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protocol&lt;/span> &lt;span class="nc">DataProvider&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">associatedtype&lt;/span> &lt;span class="n">Item&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">items&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Item&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">LocalProvider&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">DataProvider&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">items&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nb">String&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;alpha&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;beta&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>LocalProvider&lt;/code> satisfies &lt;code>Item&lt;/code> with &lt;code>String&lt;/code>, and callers can rely on &lt;code>items()&lt;/code> returning &lt;code>[String]&lt;/code> inside generic contexts.&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/collections-and-algorithms/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/collections-and-algorithms/</guid><description>&lt;h1 id="collections-and-algorithms-with-version-cues">Collections and Algorithms (with version cues)&lt;/h1>
&lt;p>Sequence vs Collection, common transforms, and performance considerations.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>Swift 5.x+: standard library offers CoW collections, lazy views, and SIMD-backed &lt;code>ContiguousArray&lt;/code>.&lt;/li>
&lt;li>Swift 5.7+: improved type inference with primary associated types; &lt;code>any&lt;/code> spelling required for existentials.&lt;/li>
&lt;li>Swift 5.9+: parameter packs/variadic generics (advanced; not covered here).&lt;/li>
&lt;/ul>
&lt;h2 id="sequence-vs-collection">Sequence vs Collection&lt;/h2>
&lt;ul>
&lt;li>&lt;code>Sequence&lt;/code>: single-pass iteration guaranteed; may be destructive. Use when you donâ€™t need indices or multiple passes.&lt;/li>
&lt;li>&lt;code>Collection&lt;/code>: multi-pass with stable indices (&lt;code>startIndex&lt;/code>/&lt;code>endIndex&lt;/code>). Prefer for in-memory data you traverse multiple times.&lt;/li>
&lt;/ul>
&lt;h2 id="common-transforms">Common Transforms&lt;/h2>
&lt;ul>
&lt;li>&lt;code>map/compactMap/flatMap&lt;/code>: convert, filter nils, flatten.&lt;/li>
&lt;li>&lt;code>filter&lt;/code>: keep matching elements; be mindful of allocation on large data.&lt;/li>
&lt;li>&lt;code>reduce&lt;/code>: combine into a single value; prefer &lt;code>reduce(into:)&lt;/code> to avoid intermediate allocations.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">upper&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">names&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">map&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nv">$0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">uppercased&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">numbers&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">compactMap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Int&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kd">init&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">flattened&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">],[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]].&lt;/span>&lt;span class="n">flatMap&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nv">$0&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">counts&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">words&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">reduce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">into&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[:])&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nv">$0&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nv">$1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="lazy-views">Lazy Views&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>.lazy&lt;/code> to defer work and reduce intermediate allocations, especially after filters and maps chained together.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">firstBig&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">numbers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">lazy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">filter&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nv">$0&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">1000&lt;/span> &lt;span class="p">}.&lt;/span>&lt;span class="bp">first&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="slicing-and-subsequence">Slicing and Subsequence&lt;/h2>
&lt;ul>
&lt;li>Slices (&lt;code>ArraySlice&lt;/code>, &lt;code>Substring&lt;/code>) share storage with the base collection; copy to &lt;code>Array&lt;/code>/&lt;code>String&lt;/code> if you need long-term storage.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">slice&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mf">2.&lt;/span>&lt;span class="p">..]&lt;/span> &lt;span class="c1">// ArraySlice&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">copy&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">slice&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// makes an owned copy&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="sorting-and-searching">Sorting and Searching&lt;/h2>
&lt;ul>
&lt;li>&lt;code>sorted()&lt;/code> returns a new array; &lt;code>sort()&lt;/code> mutates in-place (more memory efficient).&lt;/li>
&lt;li>For membership checks on large datasets, consider &lt;code>Set&lt;/code> or &lt;code>Dictionary&lt;/code> over linear &lt;code>contains&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="mutations-and-performance">Mutations and Performance&lt;/h2>
&lt;ul>
&lt;li>Prefer &lt;code>reserveCapacity&lt;/code> on arrays and dictionaries when size is known to reduce reallocations.&lt;/li>
&lt;li>For hot paths, avoid repeated &lt;code>removeFirst()&lt;/code> on arrays (O(n)); use indices or &lt;code>popLast()&lt;/code> where order permits.&lt;/li>
&lt;/ul>
&lt;h2 id="algorithms-to-remember">Algorithms to Remember&lt;/h2>
&lt;ul>
&lt;li>&lt;code>zip&lt;/code> to iterate pairs; &lt;code>stride(from:to:by:)&lt;/code> for steps; &lt;code>prefix/while&lt;/code>, &lt;code>drop/while&lt;/code> for stream-like processing.&lt;/li>
&lt;li>&lt;code>grouping&lt;/code> via &lt;code>Dictionary(grouping:by:)&lt;/code>; &lt;code>chunks&lt;/code> manually via stride or rolling indices.&lt;/li>
&lt;/ul>
&lt;h2 id="testing">Testing&lt;/h2>
&lt;ul>
&lt;li>Add property-based checks (if available) for algorithms to ensure invariants (e.g., sorted output length matches input).&lt;/li>
&lt;li>Benchmark critical paths with &lt;code>measure&lt;/code> in XCTest or simple timing helpers; ensure lazy vs eager choices are intentional.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/combine-and-asyncsequence/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/combine-and-asyncsequence/</guid><description>&lt;h1 id="combine-and-asyncsequence-with-version-cues">Combine and AsyncSequence (with version cues)&lt;/h1>
&lt;p>How to bridge publishers to async/await, manage backpressure, and handle cancellation.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>iOS 13 / Swift 5.1: Combine introduced with &lt;code>Publisher&lt;/code>, operators, and schedulers.&lt;/li>
&lt;li>iOS 15 / Swift 5.5: &lt;code>AsyncSequence&lt;/code> and &lt;code>Publisher.values&lt;/code> bridge Combine to async/await.&lt;/li>
&lt;li>Swift 6+: stricter concurrency checking surfaces &lt;code>Sendable&lt;/code> and actor-isolation issues in custom publishers/operators.&lt;/li>
&lt;/ul>
&lt;h2 id="bridging-combine-to-asyncawait">Bridging Combine to Async/Await&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>publisher.values&lt;/code> (iOS 15+) to consume a publisher as an &lt;code>AsyncSequence&lt;/code>.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">await&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">publisher&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">values&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>For single values, prefer &lt;code>try await publisher.first(where:)&lt;/code> or &lt;code>async&lt;/code> variants instead of promise-style bridges.&lt;/li>
&lt;/ul>
&lt;h2 id="cancellation-and-backpressure">Cancellation and Backpressure&lt;/h2>
&lt;ul>
&lt;li>Cancellation in Combine maps to Task cancellation in async bridges. Respect &lt;code>Task.isCancelled&lt;/code> when producing values manually.&lt;/li>
&lt;li>Backpressure is automatic for many operators, but custom &lt;code>Publisher&lt;/code> implementations should consider demand. When bridging to async, the consumer naturally pulls values; avoid buffering unboundedly.&lt;/li>
&lt;/ul>
&lt;h2 id="error-handling">Error Handling&lt;/h2>
&lt;ul>
&lt;li>Combine uses &lt;code>Failure&lt;/code> associated type; &lt;code>Never&lt;/code> means no errors. When bridging, failures throw in async contexts.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="n">await&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">fallible&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">values&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// handle Combine Failure here&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="common-patterns">Common Patterns&lt;/h2>
&lt;ul>
&lt;li>UI: map publishers to &lt;code>async&lt;/code> functions in SwiftUI &lt;code>task {}&lt;/code> blocks; cancel tasks on disappear.&lt;/li>
&lt;li>Testing: use &lt;code>AsyncStream&lt;/code> to feed deterministic values into async code, or use TestScheduler for pure Combine pipelines.&lt;/li>
&lt;/ul>
&lt;h2 id="replacing-combine-with-asyncsequence">Replacing Combine with AsyncSequence&lt;/h2>
&lt;ul>
&lt;li>For new code on iOS 15+, prefer &lt;code>AsyncSequence&lt;/code> for simpler async streams.&lt;/li>
&lt;li>Use &lt;code>AsyncStream&lt;/code>/&lt;code>AsyncThrowingStream&lt;/code> to wrap callback-based APIs.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">notifications&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">AsyncStream&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Notification&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AsyncStream&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">continuation&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">token&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">NotificationCenter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">addObserver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">forName&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">foo&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">object&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">queue&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">note&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">continuation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">yield&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">note&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">continuation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">onTermination&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kc">_&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">NotificationCenter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">removeObserver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="concurrency-safety">Concurrency Safety&lt;/h2>
&lt;ul>
&lt;li>Ensure custom publishers and subjects are &lt;code>Sendable&lt;/code> if they cross actors/threads. Consider using actors to guard mutable state in publishers you own.&lt;/li>
&lt;/ul>
&lt;h2 id="testing">Testing&lt;/h2>
&lt;ul>
&lt;li>For Combine: use &lt;code>XCTest&lt;/code> with expectations or TestScheduler; assert output sequences and completion.&lt;/li>
&lt;li>For async bridges: write async tests with &lt;code>for await&lt;/code> and verify cancellation by cancelling the parent &lt;code>Task&lt;/code>.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/constants-file/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/constants-file/</guid><description>&lt;h1 id="how-to-create-a-constants-file">How to create a constants file?&lt;/h1>
&lt;ul>
&lt;li>
&lt;p>Create a new &lt;code>Constants.swift&lt;/code> file.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Create a Struct inside the &lt;code>Constants.swift&lt;/code> file. You name the file &lt;code>Constants&lt;/code>, &lt;code>K&lt;/code>, or what you want. :)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add &lt;code>static let&lt;/code> properties to the Struct. Like below.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">K&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">cellIdentifier&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;ReusableCell&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">cellNibName&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;MessageCell&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">registerSegue&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;RegisterToChat&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">loginSegue&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;LoginToChat&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// If you wish, you can add a group for similar content.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">struct&lt;/span> &lt;span class="nc">BrandColors&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">purple&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;BrandPurple&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">lightPurple&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;BrandLightPurple&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">blue&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;BrandBlue&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">lighBlue&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;BrandLightBlue&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">struct&lt;/span> &lt;span class="nc">FStore&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">collectionName&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;messages&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">senderField&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;sender&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">bodyField&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;body&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">dateField&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;date&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="usage">Usage&lt;/h3>
&lt;ul>
&lt;li>&lt;code>print(K.cellIdentifier)&lt;/code>&lt;/li>
&lt;li>&lt;code>print(K.BrandColors.purple)&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/core-data/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/core-data/</guid><description>&lt;h1 id="core-data">Core Data&lt;/h1>
&lt;h3 id="adding-coredata-to-existing-project">Adding CoreData to existing project&lt;/h3>
&lt;ul>
&lt;li>Create a new data model file: &lt;code>Xcode&lt;/code> &amp;gt; &lt;code>File&lt;/code> &amp;gt; &lt;code>New&lt;/code> &amp;gt; &lt;code>File&lt;/code> &amp;gt; &lt;code>DataModel&lt;/code>&lt;/li>
&lt;li>Modify &lt;code>AppDelegate.swift&lt;/code> file&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">import&lt;/span> &lt;span class="nc">UIKit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">import&lt;/span> &lt;span class="nc">CoreData&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">@UIApplicationMain&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">AppDelegate&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UIResponder&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">UIApplicationDelegate&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">window&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UIWindow&lt;/span>&lt;span class="p">?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">application&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">application&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UIApplication&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">didFinishLaunchingWithOptions&lt;/span> &lt;span class="n">launchOptions&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">UIApplication&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LaunchOptionsKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Any&lt;/span>&lt;span class="p">]?)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="nb">Bool&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> other AppDelegate methods, if you need..
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">applicationWillTerminate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">application&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UIApplication&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kc">self&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">saveContext&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// &lt;/span>&lt;span class="cs">MARK:&lt;/span>&lt;span class="c1"> - Core Data stack&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// lazy: A lazy var is a property whose initial value is not calculated until the first time it&amp;#39;s called.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">lazy&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">persistentContainer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">NSPersistentContainer&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">container&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">NSPersistentContainer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;DataModel&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">container&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">loadPersistentStores&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">completionHandler&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">storeDescription&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">error&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">error&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">NSError&lt;/span>&lt;span class="p">?&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">fatalError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unresolved error &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">, &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">userInfo&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">container&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// &lt;/span>&lt;span class="cs">MARK:&lt;/span>&lt;span class="c1"> - Core Data Saving support&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">saveContext&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">context&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">persistentContainer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">viewContext&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">hasChanges&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">nserror&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">error&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">NSError&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">fatalError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unresolved error &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">nserror&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">, &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">nserror&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">userInfo&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Create your entities using &lt;code>DataModel&lt;/code> file&lt;/li>
&lt;li>Done! ðŸŽ‰&lt;/li>
&lt;/ul>
&lt;h3 id="createsave-data">CREATE/SAVE data&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">import&lt;/span> &lt;span class="nc">CoreData&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// get context from appdelegate&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">context&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">UIApplication&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">shared&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">delegate&lt;/span> &lt;span class="k">as&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="n">AppDelegate&lt;/span> &lt;span class="p">).&lt;/span>&lt;span class="n">persistentContainer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">viewContext&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// create item&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">newItem&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Item&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">newItem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">title&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;New item&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// save changes to db&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Error saving context, &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="read-data">READ data&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Item is our entity&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">request&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">NSFetchRequest&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Item&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fetchRequest&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">itemArray&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Error fetching data from context, &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="update-data">UPDATE data&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="n">itemArray&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">indexPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Updated item&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">itemArray&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">indexPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">isDone&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">itemArray&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">indexPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">isDone&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// and after&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// inside do-catch block&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="deletedestroy-data">DELETE/DESTROY data&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">delete&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">itemArray&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">indexPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="c1">// must be first&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">itemArray&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">at&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">indexPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// and after&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// inside do-catch block&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="querying-data">QUERYING data&lt;/h3>
&lt;h4 id="useful-documents">Useful Documents&lt;/h4>
&lt;ul>
&lt;li>&lt;a href="https://static.realm.io/downloads/files/NSPredicateCheatsheet.pdf">NSPredicate Cheatsheet&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://nshipster.com/nspredicate/">NSPredicate by NSHipster&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="querying-using-search-bar">Querying using Search Bar&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">extension&lt;/span> &lt;span class="nc">ViewController&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UISearchBarDelegate&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">searchBarSearchButtonClicked&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">searchBar&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UISearchBar&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">searchText&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">searchBar&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">text&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">request&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">NSFetchRequest&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Item&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fetchRequest&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">predicate&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">NSPredicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;title CONTAINS[cd] %@&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">searchText&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// c: case insensetive d: diacritic insensetive&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sortDescriptors&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">NSSortDescriptor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ascending&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">itemArray&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Error fetching data from context, &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tableView&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">reloadData&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/dictionary/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/dictionary/</guid><description>&lt;h1 id="a">A&lt;/h1>
&lt;ul>
&lt;li>absence: yokluk&lt;/li>
&lt;li>absent: mevcut olmayan&lt;/li>
&lt;li>altogether: tamamen&lt;/li>
&lt;li>appropriate: Uygun, yerinde, Ã¶zgÃ¼.&lt;/li>
&lt;li>assertion: iddia&lt;/li>
&lt;li>assignment: atama&lt;/li>
&lt;/ul>
&lt;h1 id="b">B&lt;/h1>
&lt;ul>
&lt;li>behavior: davranÄ±ÅŸ&lt;/li>
&lt;/ul>
&lt;h1 id="c">C&lt;/h1>
&lt;ul>
&lt;li>competent: yetkili&lt;/li>
&lt;li>compound: birleÅŸtirmek, bileÅŸik, karÄ±ÅŸÄ±k&lt;/li>
&lt;li>concise: Ã¶zlÃ¼&lt;/li>
&lt;li>confident: kendinden emin&lt;/li>
&lt;/ul>
&lt;h1 id="d">D&lt;/h1>
&lt;ul>
&lt;li>deduce: SonuÃ§ Ã§Ä±karmak, anlamak.&lt;/li>
&lt;li>despite: aksine&lt;/li>
&lt;li>distinct: belirgin, farklÄ±, ayrÄ±&lt;/li>
&lt;/ul>
&lt;h1 id="e">E&lt;/h1>
&lt;ul>
&lt;li>encounter: rastlamak&lt;/li>
&lt;li>exclamation: Ã¼nlem&lt;/li>
&lt;li>explicitly: aÃ§Ä±kÃ§a
&lt;blockquote>
&lt;p>in a clear and detailed manner, leaving no room for confusion or doubt.
&amp;ldquo;the essay should state explicitly how the facts support the thesis&amp;rdquo;&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/error-handling/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/error-handling/</guid><description>&lt;h1 id="error-handling-in-swift-with-version-cues">Error Handling in Swift (with version cues)&lt;/h1>
&lt;p>Practical patterns for throwing, typed throws, and interop.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>Swift 5.x: untyped &lt;code>throws&lt;/code>, &lt;code>rethrows&lt;/code>, &lt;code>Result&lt;/code>, &lt;code>try?&lt;/code>, &lt;code>try!&lt;/code>.&lt;/li>
&lt;li>Swift 6+: typed throws (&lt;code>throws(SomeError)&lt;/code>) available by default; strict concurrency checking may surface error-sendability issues.&lt;/li>
&lt;/ul>
&lt;h2 id="basics">Basics&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>throws&lt;/code> for recoverable issues; keep errors small and domain-specific.&lt;/li>
&lt;li>Prefer enums conforming to &lt;code>Error&lt;/code>; include minimal context (payloads or &lt;code>userInfo&lt;/code> when bridging).&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">enum&lt;/span> &lt;span class="nc">NetworkError&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Error&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="n">offline&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">timeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">seconds&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">fetch&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kr">throws&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">Data&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">guard&lt;/span> &lt;span class="n">isOnline&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="n">NetworkError&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">offline&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">Data&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="typed-throws-swift-6">Typed Throws (Swift 6+)&lt;/h2>
&lt;ul>
&lt;li>Specify the exact error type to enable exhaustive handling at call sites.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">enum&lt;/span> &lt;span class="nc">LoginError&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Error&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="n">offline&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">invalidCredentials&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">login&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">email&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kr">throws&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LoginError&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">Session&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kc">_&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="n">login&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">email&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;a@b.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;pw&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="n">LoginError&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">offline&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// precise recovery&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// optional fallback if bridging from ObjC or unexpected errors arise&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="rethrows">Rethrows&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>rethrows&lt;/code> when a function only throws if its function parameter throwsâ€”helpful for higher-order functions.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">mapOrThrow&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">values&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nb">String&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">String&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kr">throws&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kr">rethrows&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="n">values&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">transform&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="result-vs-throws">&lt;code>Result&lt;/code> vs &lt;code>throws&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;code>throws&lt;/code> is ergonomic inside async/await and linear code.&lt;/li>
&lt;li>&lt;code>Result&lt;/code> is useful for storing or combining errors, or when API shape must be synchronous but errorful.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">outcome&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Result&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">NetworkError&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Result&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="n">fetch&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="async-error-propagation">Async Error Propagation&lt;/h2>
&lt;ul>
&lt;li>&lt;code>async throws&lt;/code> pairs naturally; prefer this over callback-based completion handlers.&lt;/li>
&lt;li>For cancellation, treat &lt;code>CancellationError&lt;/code> distinctly to avoid masking user intent.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">loadProfile&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="n">async&lt;/span> &lt;span class="kr">throws&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">Profile&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kc">_&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="n">await&lt;/span> &lt;span class="n">loadProfile&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="k">is&lt;/span> &lt;span class="n">CancellationError&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// respect user cancellation&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="bridging-and-interop">Bridging and Interop&lt;/h2>
&lt;ul>
&lt;li>Objective-C &lt;code>NSError&lt;/code> maps to Swift &lt;code>Error&lt;/code>; annotate ObjC with &lt;code>NS_SWIFT_NAME&lt;/code> and &lt;code>NSError **&lt;/code> patterns.&lt;/li>
&lt;li>When exposing Swift APIs to ObjC, typed throws are not visible; design ObjC-friendly overloads if needed.&lt;/li>
&lt;/ul>
&lt;h2 id="testing-errors">Testing Errors&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>XCTAssertThrowsError&lt;/code> with pattern matching to assert specific cases.&lt;/li>
&lt;li>For typed throws, tests become clearer and more exhaustive.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="n">XCTAssertThrowsError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">try&lt;/span> &lt;span class="n">login&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">email&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">error&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">XCTAssertEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error&lt;/span> &lt;span class="k">as&lt;/span>&lt;span class="p">?&lt;/span> &lt;span class="n">LoginError&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">invalidCredentials&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/generics-and-constraints/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/generics-and-constraints/</guid><description>&lt;h1 id="generics-and-constraints-with-version-cues">Generics and Constraints (with version cues)&lt;/h1>
&lt;p>Practical patterns for generics, protocol constraints, and existential usage.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>Swift 5.6+: &lt;code>any&lt;/code> keyword required to spell existential types explicitly.&lt;/li>
&lt;li>Swift 5.7 (Xcode 14): primary associated types, improved existential type inference, better &lt;code>Sendable&lt;/code> checks behind flags.&lt;/li>
&lt;li>Swift 5.9 (Xcode 15): parameter packs and variadic generics (advanced; skip unless you need them).&lt;/li>
&lt;li>Swift 6+: strict concurrency checking is the default; existential/&lt;code>Sendable&lt;/code> diagnostics are stricter.&lt;/li>
&lt;/ul>
&lt;h2 id="where-clauses-and-conditional-conformance">&lt;code>where&lt;/code> Clauses and Conditional Conformance&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>where&lt;/code> to keep function signatures clear and constraints localized.&lt;/li>
&lt;li>Conditional conformance lets you add protocol adoption only when generic parameters meet requirements.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">extension&lt;/span> &lt;span class="nc">Array&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Encodable&lt;/span> &lt;span class="k">where&lt;/span> &lt;span class="n">Element&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Encodable&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">merge&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">P&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Sequence&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Q&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Sequence&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">lhs&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">P&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">_&lt;/span> &lt;span class="n">rhs&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Q&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">P&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Element&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">where&lt;/span> &lt;span class="n">P&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Element&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="n">Q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Element&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lhs&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">rhs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="primary-associated-types-swift-57">Primary Associated Types (Swift 5.7)&lt;/h2>
&lt;ul>
&lt;li>Protocols can surface key associated types in angle brackets, reducing boilerplate when constraining existentials.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protocol&lt;/span> &lt;span class="nc">IteratorProtocol&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Element&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">associatedtype&lt;/span> &lt;span class="n">Element&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">mutating&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">next&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">Element&lt;/span>&lt;span class="p">?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Prior to 5.7: `any IteratorProtocol` lost the element type easily.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// With a primary associated type you can write:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">ints&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">any&lt;/span> &lt;span class="n">IteratorProtocol&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nb">Int&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="existentials-vs-opaque-types">Existentials vs Opaque Types&lt;/h2>
&lt;ul>
&lt;li>&lt;code>any&lt;/code> creates a type-erased box; &lt;code>some&lt;/code> preserves a single concrete type.&lt;/li>
&lt;li>Prefer &lt;code>some&lt;/code> for return types when the function always yields one concrete conformer; use &lt;code>any&lt;/code> when multiple conformers must flow through the same API or be stored together.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">makeNumber&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">Numeric&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">42&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="c1">// static dispatch, concrete type hidden&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">numbers&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">any&lt;/span> &lt;span class="n">Numeric&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// heterogeneous storage&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="protocols-with-self-or-associated-types">Protocols with &lt;code>Self&lt;/code> or Associated Types&lt;/h2>
&lt;ul>
&lt;li>Protocols referencing &lt;code>Self&lt;/code> or an associated type in requirements cannot be used as plain existentials without extra information.&lt;/li>
&lt;li>Reach for:
&lt;ul>
&lt;li>Generics on functions or types: &lt;code>func render&amp;lt;P: View&amp;gt;(_ view: P) -&amp;gt; some View&lt;/code>&lt;/li>
&lt;li>Type erasure wrappers: &lt;code>struct AnyProvider&amp;lt;Item&amp;gt;: Provider { ... }&lt;/code>&lt;/li>
&lt;li>Opaque returns when a single concrete type is guaranteed.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="constraint-hygiene-tips">Constraint Hygiene Tips&lt;/h2>
&lt;ul>
&lt;li>Keep constraints close to the API that needs them; avoid lifting all constraints to top-level types.&lt;/li>
&lt;li>Prefer extension-based conformances to keep core types small and reusable.&lt;/li>
&lt;li>If a type has many conditional conformances, document the minimal required constraints to avoid surprises for callers.&lt;/li>
&lt;/ul>
&lt;h2 id="testing">Testing&lt;/h2>
&lt;ul>
&lt;li>Add focused tests around type-erased wrappers to ensure requirements are forwarded.&lt;/li>
&lt;li>For APIs relying on constraints, add compile-time checks via unused functions in test targets (e.g., a generic helper that must type-check).&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/keypaths-and-pattern-matching/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/keypaths-and-pattern-matching/</guid><description>&lt;h1 id="keypaths-and-pattern-matching-with-version-cues">KeyPaths and Pattern Matching (with version cues)&lt;/h1>
&lt;p>How to leverage key paths and pattern matching to write concise, readable Swift.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>Swift 4+: writable key paths, &lt;code>\.property&lt;/code> syntax.&lt;/li>
&lt;li>Swift 5.x+: &lt;code>KeyPath&lt;/code> improvements and pattern matching ergonomics.&lt;/li>
&lt;li>Swift 5.7+: &lt;code>any&lt;/code> spelling for existentials can appear with &lt;code>KeyPath&lt;/code> constraints.&lt;/li>
&lt;/ul>
&lt;h2 id="keypath-basics">KeyPath Basics&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>\Type.property&lt;/code> to reference properties without calling them. Great for mapping, sorting, and dependency injection.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">User&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">age&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Int&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">names&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">users&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">\&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">sorted&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">users&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">sorted&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">by&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">\&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// via overload taking a key path&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>For mutation, use &lt;code>WritableKeyPath&lt;/code> and &lt;code>ReferenceWritableKeyPath&lt;/code> (classes).&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">set&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Value&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">keyPath&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">WritableKeyPath&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Value&lt;/span>&lt;span class="p">&amp;gt;,&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">on&lt;/span> &lt;span class="n">user&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kr">inout&lt;/span> &lt;span class="n">User&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">keyPath&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">keyPath&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="dynamic-member-lookup">Dynamic Member Lookup&lt;/h2>
&lt;ul>
&lt;li>Some types expose dynamic members that forward through key paths (e.g., &lt;code>SwiftUI.Binding&lt;/code>). You can build your own with &lt;code>@dynamicMemberLookup&lt;/code> and subscript overloads taking key paths.&lt;/li>
&lt;/ul>
&lt;h2 id="pattern-matching-essentials">Pattern Matching Essentials&lt;/h2>
&lt;ul>
&lt;li>&lt;code>switch&lt;/code> supports &lt;code>case&lt;/code>, &lt;code>where&lt;/code> clauses, and pattern bindings for enums, optionals, tuples, ranges, and custom patterns.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="k">switch&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">success&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nv">data&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">failure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nv">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">where&lt;/span> &lt;span class="n">error&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">isRetriable&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">retry&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">failure&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="if-case--guard-case">&lt;code>if case&lt;/code> / &lt;code>guard case&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>Use to destructure single values without a full &lt;code>switch&lt;/code>.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">failure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nv">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">guard&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">success&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nv">payload&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">process&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">payload&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="optional-patterns">Optional Patterns&lt;/h2>
&lt;ul>
&lt;li>Match &lt;code>.some&lt;/code>/&lt;code>.none&lt;/code> or use &lt;code>if case let x?&lt;/code>.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">value&lt;/span>&lt;span class="p">?&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">optionalValue&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="tuple-and-range-patterns">Tuple and Range Patterns&lt;/h2>
&lt;ul>
&lt;li>Destructure tuples in switches; match numeric ranges with &lt;code>...&lt;/code> or &lt;code>..&amp;lt;&lt;/code>.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">point&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">switch&lt;/span> &lt;span class="n">point&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;origin&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mf">1.&lt;/span>&lt;span class="p">..,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">..):&lt;/span> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;quadrant&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="custom-pattern-matching">Custom Pattern Matching&lt;/h2>
&lt;ul>
&lt;li>Implement &lt;code>~= (pattern:value:)&lt;/code> to enable custom matching. Keep it lightweight and predictable.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">Prefix&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="o">~=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pattern&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Prefix&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="nb">Bool&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">hasPrefix&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pattern&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">switch&lt;/span> &lt;span class="s">&amp;#34;swift-notes&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="n">Prefix&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;swift&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;matches&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="tips">Tips&lt;/h2>
&lt;ul>
&lt;li>Prefer exhaustive &lt;code>switch&lt;/code> on enums to catch new cases at compile time.&lt;/li>
&lt;li>Combine &lt;code>where&lt;/code> clauses for readability instead of nesting conditionals.&lt;/li>
&lt;li>Keep custom patterns simple to avoid surprising control flow.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/memory-and-semantics/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/memory-and-semantics/</guid><description>&lt;h1 id="memory-and-value-semantics-with-version-cues">Memory and Value Semantics (with version cues)&lt;/h1>
&lt;p>ARC basics, retain cycles, copy-on-write, and value vs reference semantics.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>Swift 5.x+: ARC for reference types; standard library uses copy-on-write (CoW) for &lt;code>Array&lt;/code>, &lt;code>Dictionary&lt;/code>, &lt;code>Set&lt;/code>.&lt;/li>
&lt;li>Swift 5.7+: stricter &lt;code>Sendable&lt;/code> checking (behind flags) helps surface thread-safety and aliasing issues.&lt;/li>
&lt;li>Swift 6+: strict concurrency checking by default; &lt;code>@MainActor&lt;/code>/&lt;code>Sendable&lt;/code> diagnostics catch unsafe sharing early.&lt;/li>
&lt;/ul>
&lt;h2 id="arc-essentials">ARC Essentials&lt;/h2>
&lt;ul>
&lt;li>Classes and closures are reference types managed by ARC. Increments on strong references; decrements on release.&lt;/li>
&lt;li>Avoid retain cycles by breaking strong references in one direction (&lt;code>weak&lt;/code> or &lt;code>unowned&lt;/code> depending on lifetime guarantees).&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Controller&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">handler&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">(()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="nb">Void&lt;/span>&lt;span class="p">)?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">start&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handler&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="kr">weak&lt;/span> &lt;span class="kc">self&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="kc">self&lt;/span>&lt;span class="p">?.&lt;/span>&lt;span class="n">doWork&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="weak-vs-unowned">&lt;code>weak&lt;/code> vs &lt;code>unowned&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;code>weak&lt;/code>: optional, set to &lt;code>nil&lt;/code> automatically when the instance deallocates. Use when the reference may outlive the owner.&lt;/li>
&lt;li>&lt;code>unowned&lt;/code>: non-optional, crashes if accessed after deallocation. Use only when lifetimes are strictly tied.&lt;/li>
&lt;/ul>
&lt;h2 id="copy-on-write-cow">Copy-on-Write (CoW)&lt;/h2>
&lt;ul>
&lt;li>Standard collections are value types with CoW: copying is cheap until mutation.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="c1">// shares storage&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// triggers copy; `a` remains [1, 2, 3]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>When building your own CoW types, store reference-backed storage and implement &lt;code>mutating&lt;/code> setters that call &lt;code>isKnownUniquelyReferenced&lt;/code>.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">Buffer&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Storage&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">values&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nb">Int&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">values&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nb">Int&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kc">self&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">values&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">values&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">storage&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Storage&lt;/span>&lt;span class="p">([])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kr">mutating&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">ensureUnique&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">isKnownUniquelyReferenced&lt;/span>&lt;span class="p">(&amp;amp;&lt;/span>&lt;span class="n">storage&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">storage&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Storage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">mutating&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ensureUnique&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="value-vs-reference-semantics">Value vs Reference Semantics&lt;/h2>
&lt;ul>
&lt;li>Prefer value types (struct/enum) for domain models; they compose better and avoid aliasing bugs.&lt;/li>
&lt;li>Use classes for shared mutable state, UI objects, or when identity matters.&lt;/li>
&lt;li>Document ownership: who creates, who retains, and who mutates.&lt;/li>
&lt;/ul>
&lt;h2 id="concurrency-considerations">Concurrency Considerations&lt;/h2>
&lt;ul>
&lt;li>CoW reduces accidental sharing across threads, but mutable references inside structs can still race. Mark shared references as &lt;code>Sendable&lt;/code> or wrap in actors/locks.&lt;/li>
&lt;li>&lt;code>@MainActor&lt;/code> on UI-bound classes clarifies threading; for data models, prefer pure value types or isolated actors.&lt;/li>
&lt;/ul>
&lt;h2 id="testing">Testing&lt;/h2>
&lt;ul>
&lt;li>Add tests to ensure CoW types copy on mutation (check identity before/after mutation).&lt;/li>
&lt;li>For retain cycles, use weak expectations in tests: create, nil-out strong refs, and assert deallocation occurs.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/observation-macros/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/observation-macros/</guid><description>&lt;h1 id="observation-macros-observable--bindable-ios-17">Observation Macros (&lt;code>@Observable&lt;/code> / &lt;code>@Bindable&lt;/code>) (iOS 17+)&lt;/h1>
&lt;p>Lightweight SwiftUI observation introduced in iOS 17 / macOS 14. Replaces many &lt;code>ObservableObject&lt;/code> boilerplates; still opt-in depending on deployment target.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>iOS 17, macOS 14, watchOS 10, tvOS 17: &lt;code>@Observable&lt;/code> and &lt;code>@Bindable&lt;/code>.&lt;/li>
&lt;li>Older OS targets: stick with &lt;code>ObservableObject&lt;/code>, &lt;code>@Published&lt;/code>, &lt;code>@StateObject&lt;/code>/&lt;code>@ObservedObject&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="basic-usage">Basic Usage&lt;/h2>
&lt;ul>
&lt;li>Mark a reference type (or actor) with &lt;code>@Observable&lt;/code> to synthesize change notifications for stored properties.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="n">Observable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">CounterModel&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">count&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="bp">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">CounterView&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="n">State&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">model&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">CounterModel&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">body&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">VStack&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">count&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Button&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Plus&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>No need for &lt;code>ObservableObject&lt;/code> or &lt;code>@Published&lt;/code>; mutation on observed properties triggers view updates.&lt;/li>
&lt;/ul>
&lt;h2 id="bindable">&lt;code>@Bindable&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>@Bindable&lt;/code> in child views to get bindings into an &lt;code>@Observable&lt;/code> model without manually creating &lt;code>Binding&lt;/code> values.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">DetailView&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="n">Bindable&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">model&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">CounterModel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">body&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Stepper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Count&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">count&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="interop-with-existing-patterns">Interop with Existing Patterns&lt;/h2>
&lt;ul>
&lt;li>You can mix &lt;code>@Observable&lt;/code> models with &lt;code>@StateObject&lt;/code> when you own the lifetime, or pass them down with &lt;code>@ObservedObject&lt;/code>-like semantics using plain references (the model itself performs observation).&lt;/li>
&lt;li>For legacy targets, keep an &lt;code>ObservableObject&lt;/code> wrapper or use conditional compilation:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#if&lt;/span> &lt;span class="cp">canImport&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cp">Observation&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="n">Observable&lt;/span> &lt;span class="kr">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ProfileModel&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ProfileModel&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">ObservableObject&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">@&lt;/span>&lt;span class="n">Published&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#endif&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="concurrency-notes">Concurrency Notes&lt;/h2>
&lt;ul>
&lt;li>Observation macros work with actors too; the generated conformance handles main-actor isolation if your type is &lt;code>@MainActor&lt;/code>.&lt;/li>
&lt;li>Avoid heavy work in property observers; keep state updates lightweight and move side effects to methods.&lt;/li>
&lt;/ul>
&lt;h2 id="testing">Testing&lt;/h2>
&lt;ul>
&lt;li>In previews/tests, mutate properties and assert UI/output changes. For legacy fallback, ensure both code paths stay in sync using small compile-time helpers or conditional tests.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/opaque-types/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/opaque-types/</guid><description>&lt;h1 id="opaque-types-in-swift">Opaque Types in Swift&lt;/h1>
&lt;p>Swift&amp;rsquo;s &lt;code>some&lt;/code> keyword lets you return a value whose concrete type stays hidden while still preserving type safety. It behaves like the inverse of &lt;code>any&lt;/code>: callers know there is a specific type, but they only interact with the protocol requirements that type satisfies.&lt;/p>
&lt;h2 id="why-use-opaque-return-types">Why Use Opaque Return Types?&lt;/h2>
&lt;ul>
&lt;li>Hide implementation details while keeping static dispatch and optimizations.&lt;/li>
&lt;li>Avoid exposing long generic signatures from helper methods.&lt;/li>
&lt;li>Keep flexibility to swap implementations without breaking API callers.&lt;/li>
&lt;/ul>
&lt;h2 id="basic-example">Basic Example&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protocol&lt;/span> &lt;span class="nc">Shape&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">area&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="nb">Double&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">Square&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Shape&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">edge&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Double&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">area&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="nb">Double&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">edge&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">edge&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">Circle&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Shape&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Double&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">area&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="nb">Double&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nb">Double&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pi&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">radius&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">radius&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Only promise that the result conforms to Shape; callers do not know if it is a Circle or Square.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">makeUnitSquare&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">Shape&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Square&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">edge&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">makeCircle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Double&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">Shape&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Circle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">radius&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Opaque types guarantee that each function returns a single concrete type. &lt;code>makeUnitSquare()&lt;/code> always yields &lt;code>Square&lt;/code>, while &lt;code>makeCircle(radius:)&lt;/code> always yields &lt;code>Circle&lt;/code> for any radius value.&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/programmatic-ui/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/programmatic-ui/</guid><description>&lt;h1 id="programmatic-ui">Programmatic UI&lt;/h1>
&lt;blockquote>
&lt;p>&lt;a href="https://github.com/sametkoyuncu/swift-notes/blob/master/sources/programmatic-ui.swift">Source Code&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h3 id="create-component">Create Component&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">titleLabel&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UILabel&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">label&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">UILabel&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">label&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">translatesAutoresizingMaskIntoConstraints&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">label&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">font&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">systemFont&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ofSize&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">22&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">weight&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">bold&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">label&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">numberOfLines&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">label&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">downloadButton&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UIButton&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">button&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">UIButton&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">button&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">translatesAutoresizingMaskIntoConstraints&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">button&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">backgroundColor&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">red&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">button&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">setTitle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Download&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">for&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">normal&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">button&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">setTitleColor&lt;/span>&lt;span class="p">(.&lt;/span>&lt;span class="n">white&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">for&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">normal&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">button&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">layer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">cornerRadius&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">button&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">layer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">masksToBounds&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="add-component-to-view">Add component to View&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">override&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">viewDidLoad&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kc">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">viewDidLoad&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">view&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">addSubview&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">titleLabel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">view&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">addSubview&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">downloadButton&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// coming soon :)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">configureConstraints&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="configure-constraints">Configure Constraints&lt;/h3>
&lt;blockquote>
&lt;p>&lt;code>leading:&lt;/code> left | &lt;code>trailing:&lt;/code> right&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/property-wrappers-and-builders/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/property-wrappers-and-builders/</guid><description>&lt;h1 id="property-wrappers-and-result-builders-with-version-cues">Property Wrappers and Result Builders (with version cues)&lt;/h1>
&lt;p>Practical usage of property wrappers and result builders, with version highlights.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>Swift 5.1: property wrappers introduced.&lt;/li>
&lt;li>Swift 5.4: result builders stabilized (formerly function builders).&lt;/li>
&lt;li>Swift 5.9+: macros arrive (not covered here); builders/wrappers remain common for DSLs.&lt;/li>
&lt;li>Swift 6+: stricter concurrency checking; wrappers interacting with concurrency may need &lt;code>Sendable&lt;/code>/&lt;code>@MainActor&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="property-wrappers-basics">Property Wrappers Basics&lt;/h2>
&lt;ul>
&lt;li>Wrap storage/behavior behind a projected value. Use &lt;code>@propertyWrapper&lt;/code> on a struct/class/enum.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="n">propertyWrapper&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">Clamped&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Comparable&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">range&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">ClosedRange&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Value&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wrappedValue&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">_&lt;/span> &lt;span class="n">range&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">ClosedRange&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Value&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kc">self&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">range&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">range&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kc">self&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">value&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="bp">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wrappedValue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">range&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lowerBound&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">range&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">upperBound&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">wrappedValue&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Value&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">get&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">set&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="bp">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">newValue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">range&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lowerBound&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">range&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">upperBound&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">Volume&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="n">Clamped&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">level&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">50&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Access with &lt;code>_level&lt;/code> to reach the storage, &lt;code>$level&lt;/code> for the projected value (customizable via &lt;code>projectedValue&lt;/code>).&lt;/li>
&lt;/ul>
&lt;h2 id="common-swiftui-wrappers-recap">Common SwiftUI Wrappers (recap)&lt;/h2>
&lt;ul>
&lt;li>&lt;code>@State&lt;/code>, &lt;code>@Binding&lt;/code>, &lt;code>@ObservedObject&lt;/code>, &lt;code>@StateObject&lt;/code>, &lt;code>@EnvironmentObject&lt;/code>, &lt;code>@AppStorage&lt;/code>, &lt;code>@SceneStorage&lt;/code>.&lt;/li>
&lt;li>Remember: choose based on ownership/lifetime (see &lt;code>swiftui-state.md&lt;/code>).&lt;/li>
&lt;/ul>
&lt;h2 id="result-builders">Result Builders&lt;/h2>
&lt;ul>
&lt;li>Builders collect expressions into a composed result (e.g., SwiftUI &lt;code>ViewBuilder&lt;/code>).&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="n">resultBuilder&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">StringListBuilder&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">buildBlock&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">components&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">...)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nb">String&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">components&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="n">StringListBuilder&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">makeStrings&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nb">String&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;one&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">Bool&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="s">&amp;#34;two&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">.&amp;lt;&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="s">&amp;#34;loop &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Builders support &lt;code>buildBlock&lt;/code>, &lt;code>buildOptional&lt;/code>, &lt;code>buildEither&lt;/code>, &lt;code>buildArray&lt;/code>, and optionally &lt;code>buildFinalResult&lt;/code>.&lt;/li>
&lt;li>Use &lt;code>@ViewBuilder&lt;/code>/&lt;code>@SceneBuilder&lt;/code> (iOS 13+) and &lt;code>@ToolbarContentBuilder&lt;/code> (iOS 14+) in SwiftUI.&lt;/li>
&lt;/ul>
&lt;h2 id="concurrency-considerations">Concurrency Considerations&lt;/h2>
&lt;ul>
&lt;li>If wrapper storage crosses actors/threads, consider &lt;code>Sendable&lt;/code> and isolation. For UI wrappers, mark with &lt;code>@MainActor&lt;/code> when needed.&lt;/li>
&lt;li>Avoid heavy work in getters/setters of wrappers; keep them lightweight to avoid surprising costs.&lt;/li>
&lt;/ul>
&lt;h2 id="testing">Testing&lt;/h2>
&lt;ul>
&lt;li>For wrappers, test boundary cases on the wrapped/projection values.&lt;/li>
&lt;li>For builders, add small functions that must type-check to catch regressions when changing builder signatures.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/protocols-and-existentials/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/protocols-and-existentials/</guid><description>&lt;h1 id="protocols-existentials-and-composition-with-version-cues">Protocols, Existentials, and Composition (with version cues)&lt;/h1>
&lt;p>Practical patterns for using protocols, &lt;code>any&lt;/code> vs &lt;code>some&lt;/code>, and type erasure.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>Swift 5.6+: &lt;code>any&lt;/code> keyword required for existential types.&lt;/li>
&lt;li>Swift 5.7: primary associated types improve existential ergonomics; better diagnostics for &lt;code>Self&lt;/code> and associated-type constraints.&lt;/li>
&lt;li>Swift 6+: stricter &lt;code>Sendable&lt;/code>/actor-isolation checks make &lt;code>any&lt;/code> vs &lt;code>some&lt;/code> choices more visible.&lt;/li>
&lt;/ul>
&lt;h2 id="any-vs-some">&lt;code>any&lt;/code> vs &lt;code>some&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;code>any Protocol&lt;/code>: type-erased box; dynamic dispatch; multiple conformers can coexist (heterogeneous containers, stored properties).&lt;/li>
&lt;li>&lt;code>some Protocol&lt;/code>: concrete type stays hidden but fixed per function; static dispatch; great for return types when a single conformer is guaranteed.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">makeRow&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">Text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Hi&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="c1">// fixed concrete type&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">rows&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">any&lt;/span> &lt;span class="n">View&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Hi&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Image&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">systemName&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;star&amp;#34;&lt;/span>&lt;span class="p">)]&lt;/span> &lt;span class="c1">// heterogeneous&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="self-requirements-and-associated-types">Self Requirements and Associated Types&lt;/h2>
&lt;ul>
&lt;li>Protocol requirements mentioning &lt;code>Self&lt;/code> or an associated type block plain existential use. Reach for:
&lt;ul>
&lt;li>Generics on the function/type (&lt;code>func render&amp;lt;P: View&amp;gt;(_ view: P) -&amp;gt; some View&lt;/code>)&lt;/li>
&lt;li>Type erasure wrappers (e.g., &lt;code>AnySequence&lt;/code>, &lt;code>AnyPublisher&lt;/code>)&lt;/li>
&lt;li>Opaque returns (&lt;code>some&lt;/code>) when a single conformer is stable.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="type-erasure-pattern">Type Erasure Pattern&lt;/h2>
&lt;ul>
&lt;li>Wrap a protocol with associated types in a box to regain existential ergonomics.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protocol&lt;/span> &lt;span class="nc">DataProvider&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">associatedtype&lt;/span> &lt;span class="n">Item&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">items&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Item&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">AnyDataProvider&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Item&lt;/span>&lt;span class="p">&amp;gt;:&lt;/span> &lt;span class="n">DataProvider&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">_items&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Item&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">init&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">P&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">DataProvider&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">provider&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">P&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">where&lt;/span> &lt;span class="n">P&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Item&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="n">Item&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">_items&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">provider&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">items&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">items&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Item&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">_items&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">providers&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">AnyDataProvider&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nb">String&lt;/span>&lt;span class="p">&amp;gt;]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">AnyDataProvider&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LocalProvider&lt;/span>&lt;span class="p">())]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="protocol-composition">Protocol Composition&lt;/h2>
&lt;ul>
&lt;li>Combine requirements with &lt;code>&amp;amp;&lt;/code>: &lt;code>any A &amp;amp; B&lt;/code>.&lt;/li>
&lt;li>For &lt;code>some&lt;/code>, composition still promises one concrete type that conforms to all listed protocols.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protocol&lt;/span> &lt;span class="nc">Displayable&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">title&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">get&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protocol&lt;/span> &lt;span class="nc">Loadable&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">load&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="n">async&lt;/span> &lt;span class="kr">throws&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">makeFeature&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">Displayable&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">Loadable&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">Feature&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="extensions-vs-inheritance">Extensions vs Inheritance&lt;/h2>
&lt;ul>
&lt;li>Prefer protocol extensions to add shared behavior without forcing inheritance. Keep inheritance shallow; compose small protocols instead.&lt;/li>
&lt;li>Avoid over-broad â€œgod protocols.â€ Split into role-focused protocols and recompose at use sites.&lt;/li>
&lt;/ul>
&lt;h2 id="testing-and-diagnostics">Testing and Diagnostics&lt;/h2>
&lt;ul>
&lt;li>When using type erasure, add small tests to ensure forwarding works (&lt;code>items()&lt;/code> returns expected values).&lt;/li>
&lt;li>If you need compile-time coverage, add helper functions in tests that must type-check to catch regressions in constraints.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/realm-database/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/realm-database/</guid><description>&lt;h1 id="how-to-use-realmswift">How to use RealmSwift?&lt;/h1>
&lt;h3 id="what-is-realm-swift">What is Realm Swift?&lt;/h3>
&lt;p>Realm Swift is an easy to use alternative to SQLite and Core Data that makes persisting, querying, and syncing data as simple as working directly with native Swift objects. &lt;a href="https://realm.io/realm-swift/">Visit to RealmSwift page ðŸ‘†&lt;/a>&lt;/p>
&lt;h2 id="quick-start">Quick Start&lt;/h2>
&lt;ul>
&lt;li>Initilation realm - &lt;code>Appdelegate.swift&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">application&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">application&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UIApplication&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">didFinishLaunchingWithOptions&lt;/span> &lt;span class="n">launchOptions&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">UIApplication&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LaunchOptionsKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Any&lt;/span>&lt;span class="p">]?)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="nb">Bool&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// realm db location&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// print(Realm.Configuration.defaultConfiguration.fileURL)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// checking connection&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kc">_&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="n">Realm&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Error initialising new realm, &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>Define your models like regular Swift classes&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/singleton-object/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/singleton-object/</guid><description>&lt;h1 id="what-is-singleton-object">What is singleton object?&lt;/h1>
&lt;blockquote>
&lt;p>Source: Hacking with Swift&lt;/p>&lt;/blockquote>
&lt;p>Singletons are objects that should only ever be created once, then shared everywhere they need to be used. They are common on Appleâ€™s platforms: FileManager, UserDefaults, UIApplication, and UIAccelerometer are all mostly used through their singleton implementations.&lt;/p>
&lt;ul>
&lt;li>The basic implementation of a Swift singleton looks like this:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// create singleton object&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">Settings&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">shared&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Settings&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">username&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">email&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">init&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// create inctences from a singleton object&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">userSettings&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Settings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">shared&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">userSettings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">username&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;ohaok&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">userSettings_Two&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Settings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">shared&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userSettings_Two&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// prints: ohaok&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Adding a private initializer is important, because it stops other parts of our code from trying to create a Settings class instance. However, the class creates its own instance of itself as a static variable, which means the only instance of the Settings class is the one it created: Settings.shared.&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/swift-concurrency/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/swift-concurrency/</guid><description>&lt;h1 id="swift-concurrency-notes-with-version-cues">Swift Concurrency Notes (with version cues)&lt;/h1>
&lt;p>This note focuses on practical Swift concurrency patterns and calls out the Swift versions where features became available or tightened.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>Swift 5.5 (Xcode 13 / iOS 15): &lt;code>async/await&lt;/code>, &lt;code>Task&lt;/code>, &lt;code>TaskGroup&lt;/code>, actors, &lt;code>MainActor&lt;/code>, &lt;code>AsyncSequence&lt;/code>.&lt;/li>
&lt;li>Swift 5.7 (Xcode 14): stricter &lt;code>Sendable&lt;/code> checking opt-in via &lt;code>-strict-concurrency&lt;/code> (warnings); better actor-isolation diagnostics.&lt;/li>
&lt;li>Swift 6+ (Xcode 16): strict concurrency checking on by default in new projects; typed throws available without feature flags; prefer these defaults for new codebases.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>If you build with an older toolchain, gate newer features with &lt;code>#if compiler(&amp;gt;=6.0)&lt;/code> or keep a note in the file header.&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/swiftui-navigation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/swiftui-navigation/</guid><description>&lt;h1 id="swiftui-navigation-with-version-cues">SwiftUI Navigation (with version cues)&lt;/h1>
&lt;p>Choosing NavigationStack/NavigationPath vs NavigationLink, deep links, and state handling.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>iOS 13: &lt;code>NavigationView&lt;/code> + &lt;code>NavigationLink&lt;/code> (static destinations).&lt;/li>
&lt;li>iOS 16: &lt;code>NavigationStack&lt;/code>, &lt;code>NavigationPath&lt;/code>, &lt;code>NavigationSplitView&lt;/code>, programmatic navigation, typed destinations.&lt;/li>
&lt;li>iOS 17: refinements to navigation APIs; observation macro (&lt;code>@Observable&lt;/code>) can simplify state models if available.&lt;/li>
&lt;/ul>
&lt;h2 id="navigationstack--navigationpath-ios-16">NavigationStack + NavigationPath (iOS 16+)&lt;/h2>
&lt;ul>
&lt;li>Prefer &lt;code>NavigationStack&lt;/code> for push-style flows; store a &lt;code>NavigationPath&lt;/code> in &lt;code>@State&lt;/code> to support deep links and programmatic pops.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">ScreenA&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Hashable&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">id&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">UUID&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">ScreenB&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Hashable&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">id&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">UUID&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">RootView&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="n">State&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">path&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">NavigationPath&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">body&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">NavigationStack&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">List&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Button&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Go to B&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ScreenB&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">navigationDestination&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">ScreenB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kc">self&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kc">_&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ScreenBView&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onClose&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">removeLast&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Use value types that conform to &lt;code>Hashable&lt;/code> for path elements; keep them small (IDs, not full models).&lt;/li>
&lt;/ul>
&lt;h2 id="navigationlink-static-destinations">NavigationLink (static destinations)&lt;/h2>
&lt;ul>
&lt;li>For simple lists of known destinations, &lt;code>NavigationLink(destination:)&lt;/code> is fine. Avoid mixing old &lt;code>NavigationView&lt;/code> with new stack APIs in the same flow.&lt;/li>
&lt;/ul>
&lt;h2 id="deep-links">Deep Links&lt;/h2>
&lt;ul>
&lt;li>Translate URLs/intents into path elements. Initialize &lt;code>@State var path&lt;/code> from the parsed deep link so navigation reflects the initial route.&lt;/li>
&lt;li>Handle unknown routes gracefully by clearing or showing a fallback screen.&lt;/li>
&lt;/ul>
&lt;h2 id="programmatic-pops">Programmatic Pops&lt;/h2>
&lt;ul>
&lt;li>&lt;code>path.removeLast()&lt;/code> pops one; &lt;code>path.removeLast(path.count)&lt;/code> pops to root. Guard against empty paths to avoid runtime errors.&lt;/li>
&lt;/ul>
&lt;h2 id="split-view-ipad--macos-ios-16">Split View (iPad / macOS) (iOS 16+)&lt;/h2>
&lt;ul>
&lt;li>Use &lt;code>NavigationSplitView&lt;/code> for master-detail; keep selection in &lt;code>@State&lt;/code> or &lt;code>@Binding&lt;/code> and use &lt;code>navigationDestination&lt;/code> for detail stacks.&lt;/li>
&lt;/ul>
&lt;h2 id="state-management-tips">State Management Tips&lt;/h2>
&lt;ul>
&lt;li>Keep navigation state separate from data state. Use small enums/IDs to represent routes; store data elsewhere (view models, environment).&lt;/li>
&lt;li>Avoid storing full models in &lt;code>NavigationPath&lt;/code>; use identifiers and fetch as needed to reduce serialization costs and data duplication.&lt;/li>
&lt;/ul>
&lt;h2 id="testing-and-previews">Testing and Previews&lt;/h2>
&lt;ul>
&lt;li>For previews, seed &lt;code>path&lt;/code> with sample routes to verify deep links.&lt;/li>
&lt;li>For UI tests, assert navigation by checking existence of destination views and path counts if exposed through accessibility.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/swiftui-state/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/swiftui-state/</guid><description>&lt;h1 id="swiftui-state-management-with-version-cues">SwiftUI State Management (with version cues)&lt;/h1>
&lt;p>How to choose between &lt;code>@State&lt;/code>, &lt;code>@Binding&lt;/code>, &lt;code>@ObservedObject&lt;/code>, &lt;code>@StateObject&lt;/code>, and &lt;code>@EnvironmentObject&lt;/code>, plus navigation/state patterns.&lt;/p>
&lt;h2 id="version-quick-reference">Version Quick Reference&lt;/h2>
&lt;ul>
&lt;li>iOS 13 / SwiftUI 1.0: &lt;code>@State&lt;/code>, &lt;code>@Binding&lt;/code>, &lt;code>@ObservedObject&lt;/code>, &lt;code>@EnvironmentObject&lt;/code>.&lt;/li>
&lt;li>iOS 14+: &lt;code>@StateObject&lt;/code>, &lt;code>@AppStorage&lt;/code>, &lt;code>@SceneStorage&lt;/code>, &lt;code>LazyVGrid/HStack&lt;/code>, improved &lt;code>NavigationLink&lt;/code>.&lt;/li>
&lt;li>iOS 16+: &lt;code>NavigationStack&lt;/code> / &lt;code>NavigationPath&lt;/code>, &lt;code>NavigationSplitView&lt;/code>; grid/list improvements.&lt;/li>
&lt;li>iOS 17+: observation macro (&lt;code>@Observable&lt;/code>) and &lt;code>@Bindable&lt;/code> (if available in your toolchain); stick to classic patterns if you target earlier OSes.&lt;/li>
&lt;/ul>
&lt;h2 id="core-property-wrappers">Core Property Wrappers&lt;/h2>
&lt;ul>
&lt;li>&lt;code>@State&lt;/code>: local, view-owned value. Resets when view is re-created; keep it lightweight and value-semantic.&lt;/li>
&lt;li>&lt;code>@Binding&lt;/code>: derived write-through reference to a &lt;code>@State&lt;/code>. Use for child views that mutate parent state.&lt;/li>
&lt;li>&lt;code>@ObservedObject&lt;/code>: external reference type owned elsewhere. Use when lifetime is managed by a parent.&lt;/li>
&lt;li>&lt;code>@StateObject&lt;/code>: reference type owned by the view; initialized once per view identity. Use for view-owned models.&lt;/li>
&lt;li>&lt;code>@EnvironmentObject&lt;/code>: shared object injected via environment. Keep the surface small; avoid making it a grab-bag.&lt;/li>
&lt;/ul>
&lt;h2 id="choosing-the-right-wrapper">Choosing the Right Wrapper&lt;/h2>
&lt;ul>
&lt;li>Start with &lt;code>@State&lt;/code> for simple local fields.&lt;/li>
&lt;li>Promote to &lt;code>@StateObject&lt;/code> when you need an observable reference that must persist across view reloads (e.g., network-backed view model).&lt;/li>
&lt;li>Use &lt;code>@ObservedObject&lt;/code> when the parent owns the model and passes it down.&lt;/li>
&lt;li>Use &lt;code>@Binding&lt;/code> for two-way value flows between parent/child (e.g., toggles, text fields).&lt;/li>
&lt;li>Reserve &lt;code>@EnvironmentObject&lt;/code> for app-wide or feature-wide shared state; provide it high in the tree.&lt;/li>
&lt;/ul>
&lt;h2 id="navigation-patterns-ios-16">Navigation Patterns (iOS 16+)&lt;/h2>
&lt;ul>
&lt;li>Prefer &lt;code>NavigationStack&lt;/code> with &lt;code>NavigationPath&lt;/code> for programmatic navigation and deep links.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">Detail&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Hashable&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">id&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UUID&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">ContentView&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="n">State&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">path&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">NavigationPath&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nv">body&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">NavigationStack&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">List&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">.&amp;lt;&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">idx&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">NavigationLink&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Detail&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UUID&lt;/span>&lt;span class="p">()))&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">Text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Item &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">idx&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">navigationDestination&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Detail&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kc">self&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">detail&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Detail &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">detail&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">uuidString&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="side-effects-and-async-work">Side Effects and Async Work&lt;/h2>
&lt;ul>
&lt;li>Run lightweight effects in &lt;code>task {}&lt;/code> for one-off work when the view appears; use &lt;code>.onChange(of:)&lt;/code> for reacting to state changes.&lt;/li>
&lt;li>Cancel ongoing tasks when state changes if the work is obsolete (store &lt;code>Task&lt;/code> handles in &lt;code>@State&lt;/code> or &lt;code>@StateObject&lt;/code>).&lt;/li>
&lt;li>Keep async logic in view models when it grows; surface results via published properties.&lt;/li>
&lt;/ul>
&lt;h2 id="performance-tips">Performance Tips&lt;/h2>
&lt;ul>
&lt;li>Minimize state surface: store only what the view needs to render; derive computed values when possible.&lt;/li>
&lt;li>Break views into smaller components to reduce diffing scope; pass bindings to avoid redundant observable objects.&lt;/li>
&lt;li>Avoid storing large reference types in &lt;code>@State&lt;/code>; prefer &lt;code>@StateObject&lt;/code> for long-lived references.&lt;/li>
&lt;/ul>
&lt;h2 id="testing-and-previews">Testing and Previews&lt;/h2>
&lt;ul>
&lt;li>For previews, inject lightweight mock view models and deterministic data.&lt;/li>
&lt;li>For snapshot/UI tests, use stable seeds for randomized content and navigation paths.&lt;/li>
&lt;/ul></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/uicolor-converter-methods/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/uicolor-converter-methods/</guid><description>&lt;h1 id="uicolor-converter-sample-methods">UIColor Converter (Sample) Methods&lt;/h1>
&lt;h3 id="methods">Methods&lt;/h3>
&lt;blockquote>
&lt;p>I used &lt;code>List&amp;lt;Double&amp;gt;&lt;/code> because I want to save it to the &lt;code>Realm&lt;/code>. You can change the &lt;code>List&amp;lt;Double&amp;gt;&lt;/code> to what you want from collection types. e.g &lt;code>[Double]&lt;/code>&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">Functions&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// convert from UIColor to List&amp;lt;Double&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">getListFromUIColor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UIColor&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nb">Double&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">components&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">cgColor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">components&lt;/span> &lt;span class="p">??&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">doubleList&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nb">Double&lt;/span>&lt;span class="p">&amp;gt;()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">doubleList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">components&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">doubleList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">components&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">doubleList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">components&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">doubleList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">components&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">doubleList&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// convert from UIColor to List&amp;lt;Double&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">getUIColorFromList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="n">list&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nb">Double&lt;/span>&lt;span class="p">&amp;gt;?)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">UIColor&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">listDouble&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">list&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">color&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">UIColor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">red&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">listDouble&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">green&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">listDouble&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">blue&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">listDouble&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">alpha&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">listDouble&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">color&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// default value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">UIColor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">white&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="usage">Usage&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">red&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">UIColor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">red&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">list&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Functions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getListFromUIColor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">red&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">color&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Functions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getUIColorFromList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">list&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/uitextview-html-link-handle/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/uitextview-html-link-handle/</guid><description>&lt;p>Swift&amp;rsquo;te bir &lt;code>UITextView&lt;/code> iÃ§indeki HTML metni iÅŸlemek ve linklere tÄ±klanÄ±nca Ã¶zel bir iÅŸlem gerÃ§ekleÅŸtirmek iÃ§in &lt;code>UITextViewDelegate&lt;/code> protokolÃ¼nÃ¼ kullanabilirsiniz. Ä°ÅŸte temel bir Ã¶rnek:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">import&lt;/span> &lt;span class="nc">UIKit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">ViewController&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UIViewController&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">UITextViewDelegate&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">@IBOutlet&lt;/span> &lt;span class="kr">weak&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nv">textView&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UITextView&lt;/span>&lt;span class="p">!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">override&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">viewDidLoad&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kc">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">viewDidLoad&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// TextView&amp;#39;in delegate&amp;#39;ini ayarla&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">textView&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">delegate&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">self&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// HTML string&amp;#39;i oluÅŸtur&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">htmlString&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;&amp;lt;p&amp;gt;Bu bir &amp;lt;a href=&amp;#39;custom://link&amp;#39;&amp;gt;Ã¶zel link&amp;lt;/a&amp;gt; iÃ§eren HTML metnidir.&amp;lt;/p&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// HTML string&amp;#39;ini attributed string&amp;#39;e Ã§evir&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">attributedString&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">attributedStringFromHTML&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">htmlString&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">textView&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">attributedText&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">attributedString&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// HTML string&amp;#39;ini attributed string&amp;#39;e Ã§eviren fonksiyon&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">attributedStringFromHTML&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">htmlString&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">NSAttributedString&lt;/span>&lt;span class="p">?&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">data&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">htmlString&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">using&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">options&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">NSAttributedString&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">DocumentReadingOptionKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">Any&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">documentType&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">NSAttributedString&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">DocumentType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">html&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">characterEncoding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Encoding&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rawValue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">attributedString&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="n">NSAttributedString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">!,&lt;/span> &lt;span class="n">options&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">options&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">documentAttributes&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">attributedString&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;HTML string&amp;#39;i Ã§evirme hatasÄ±: &lt;/span>&lt;span class="si">\(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">localizedDescription&lt;/span>&lt;span class="si">)&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Link tÄ±klandÄ±ÄŸÄ±nda Ã§aÄŸrÄ±lan delegate metodu&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">textView&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">_&lt;/span> &lt;span class="n">textView&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UITextView&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shouldInteractWith&lt;/span> &lt;span class="n">URL&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">URL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">characterRange&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">NSRange&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">interaction&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">UITextItemInteraction&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="nb">Bool&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// TÄ±klanan linkin URL&amp;#39;sini kontrol et&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">URL&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">scheme&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="s">&amp;#34;custom&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">URL&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">host&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="s">&amp;#34;link&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ã–zel link tÄ±klandÄ±ÄŸÄ±nda yapÄ±lacak iÅŸlemi burada gerÃ§ekleÅŸtir&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Ã–zel link tÄ±klandÄ±!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="c1">// Linkin varsayÄ±lan iÅŸlemi gerÃ§ekleÅŸmesin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// DiÄŸer durumlar iÃ§in varsayÄ±lan iÅŸlemi gerÃ§ekleÅŸtir&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Bu Ã¶rnekte, &lt;code>UITextView&lt;/code>&amp;lsquo;in delegate&amp;rsquo;ini ayarladÄ±k ve &lt;code>shouldInteractWith&lt;/code> metodunu kullanarak linklere tÄ±klanÄ±nca Ã¶zel bir iÅŸlemi ele aldÄ±k. &lt;code>attributedStringFromHTML&lt;/code> fonksiyonu ise HTML string&amp;rsquo;ini attributed string&amp;rsquo;e Ã§evirmek iÃ§in kullanÄ±ldÄ±. Ã–zel bir link tÄ±klandÄ±ÄŸÄ±nda, kendi belirlediÄŸiniz iÅŸlemleri gerÃ§ekleÅŸtirebilirsiniz.&lt;/p></description></item><item><title/><link>https://sametkoyuncu.github.io/swift-notes/notes/items/user-defaults/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sametkoyuncu.github.io/swift-notes/notes/items/user-defaults/</guid><description>&lt;h1 id="how-to-use-userdefaults">How to use UserDefaults?&lt;/h1>
&lt;blockquote>
&lt;p>&lt;code>UserDefaults&lt;/code> is a singleton object. For more details, please check my &lt;code>singleton-object.md&lt;/code> file.&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>An interface to the userâ€™s defaults database, where you store key-value pairs persistently across launches of your app. - developer.apple.com&lt;/p>&lt;/blockquote>
&lt;h3 id="usage">Usage&lt;/h3>
&lt;ul>
&lt;li>Create a new instence.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">defaults&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">UserDefaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">standard&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>set data&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.24&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Volume&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Ohaok&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;PlayerName&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;AppLastOpenedByUser&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">array&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;myArray&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">dictionary&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;page not found&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Ok&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// defaults.set(dictionary, forKey: &amp;#34;statusCodes&amp;#34;) // error ?&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>get data&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">volume&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Volume&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">playerName&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;PlayerName&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">appLastOpened&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">object&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;AppLastOpenedByUser&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">myArray&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;myArray&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nb">Int&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// because set optional&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nv">myDictionary&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">defaults&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">dictionary&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">forKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;statusCodes&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>For more info look this article. -&amp;gt; &lt;a href="https://www.hackingwithswift.com/example-code/system/how-to-save-user-settings-using-userdefaults">UserDefaults&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>